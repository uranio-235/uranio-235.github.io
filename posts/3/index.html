
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>El SysAdmin del 3er Mundo</title>
  <meta name="author" content="låzaro">

  
  <meta name="description" content="autoridad certificadora 10/05/2017 7:39 pm | Comments Es un gran mojón tener que generar un certificado para cada servicio. Y aquí, en
el 5to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://uranio-235.github.io/posts/3/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="El SysAdmin del 3er Mundo" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-68987437-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">El SysAdmin del 3er Mundo</a></h1>
  
    <h2>todo lo que expliqué mientras nadie prestaba atención</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://www.google.com" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="uranio-235.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/archives">Archivo</a></li>
  <li><a href="/blog/categories/rails/">Ruby on Rails</a></li>
  <li><a href="/blog/categories/islam/">Islam</a></li>
  <li><a href="/blog/categories/destacado/">Destacado</a></li>
  <li><a href="/blog/categories/razonemos/">Razonemos</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/05/10/ssl-ca-local/">autoridad certificadora</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-05-10T19:39:19-04:00'><span class='date'>10/05/2017</span> <span class='time'>7:39 pm</span></time>
        
           | <a href="/blog/2017/05/10/ssl-ca-local/#disqus_thread"
             data-disqus-identifier="http://uranio-235.github.io/blog/2017/05/10/ssl-ca-local/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Es un gran mojón tener que generar un certificado para cada servicio. Y aquí, en
el 5to infierno de infomed usar cualquier proveedor de CA gratis (como let&rsquo;s
encrypt) es por gusto.</p>

<p>En estos caso, no queda otro remiendo que usar un CA firmado localmente. La idea
es.</p>

<p>Generamos un par de claves que harán la función de &ldquo;autoridad certificadora&rdquo;</p>

<ul>
<li> crear un Clave Privada (.key) y mantenerla bien escondida</li>
<li> crear la Clave Pública del anterior (.pem) y la distribuimos</li>
</ul>


<p>Una vez que tengamos nuestra autoridad certificadora. Empezamos a generar
certificados y lo firmamos con esta.</p>

<ul>
<li> generamos una clave privada (el .key para este certificado)</li>
<li> hacer una solicitud de certificado (.csr) al .key anterior</li>
<li> generamos el dichoso certificado</li>
<li> firmamos el certificado usando el .key de la CA</li>
</ul>


<p>Usaremos al tan legalmente controversial OpenSSL para esta tarea.</p>

<p>La clave (.key) del CA, debe crearse en una máquina desconectada de la red y
preferiblemente sepultada a 3 metros bajo tierra. Si esto le parece demasiado
paranoico, entonces mantenga el &ldquo;.key&rdquo; en el servidor más aislado de la red.
Preferiblemente, aquel que parezca menos importante y lejos de internet. En mi
caso, yo uso mi laptop personal para tareas administrativas y es ahí donde tengo
todas las claves privadas.</p>

<p>Supón que lo hagas en un servidor determinado. Creamos entonces en el home del
root, un espacio adecuado para esto.</p>

<figure class='code'><figcaption><span>&#8220;creando el directorio&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> mkdir -m700 CA</span>
</span><span class='line'><span class="go"> cd CA</span>
</span><span class='line'><span class="go"> unmask 077</span>
</span></code></pre></td></tr></table></div></figure>


<p>Creamos la super-secretísima clave privada, que hará la función de CA:</p>

<p><strong>openssl genrsa -out rootCA.key 2048</strong></p>

<figure class='code'><figcaption><span>&#8220;creando el .key en la máquina secreta&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> [lazaro@artema CA]$ openssl genrsa -out rootCA.key 2048</span>
</span><span class='line'><span class="go"> Generating RSA private key, 2048 bit long modulus</span>
</span><span class='line'><span class="go"> ..............................+++</span>
</span><span class='line'><span class="go"> .......................................................+++</span>
</span><span class='line'><span class="go"> e is 65537 (0x010001)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ya tenemos la piedra angular de nuestro CA; pero así no sirve. Esa es la clave
primaria, o sea, la que tiene la facultad de descifrar y derivar nuevos
certificados. No nos conviene que nuestros &ldquo;usuarios finales&rdquo;, o lo servidores,
usen esta clave. Necesitamos crear una &ldquo;clave pública&rdquo;, esta clave pública se
deriva de la privada, pero solo tiene la facultad de cifrar, así la puede tener
cualquiera y mandarnos datos cifrados. Sin embargo, <strong>NO</strong> se puede usar la clave
pública para DEScifrar. Al menos no; usando tecnología civil.</p>

<p>Nota para los imbéciles: El <strong>rootCA.key</strong> no se le puede dar a nadie.</p>

<p><strong>openssl req -x509 -new -nodes -key rootCA.key -sha256 -days 3650 -out rootCA.pem</strong></p>

<figure class='code'><figcaption><span>&#8220;creando la clave pública&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> [lazaro@artema CA]$  openssl req -x509 -new -nodes -key rootCA.key -sha256 -days 3650 -out rootCA.pem</span>
</span><span class='line'><span class="go"> You are about to be asked to enter information that will be incorporated</span>
</span><span class='line'><span class="go"> into your certificate request.</span>
</span><span class='line'><span class="go"> What you are about to enter is what is called a Distinguished Name or a DN.</span>
</span><span class='line'><span class="go"> There are quite a few fields but you can leave some blank</span>
</span><span class='line'><span class="go"> For some fields there will be a default value,</span>
</span><span class='line'><span class="go"> If you enter &#39;.&#39;, the field will be left blank.</span>
</span><span class='line'><span class="go"> -----</span>
</span><span class='line'><span class="go"> Country Name (2 letter code) [AU]:CU</span>
</span><span class='line'><span class="go"> State or Province Name (full name) [Some-State]:Havana</span>
</span><span class='line'><span class="go"> Locality Name (eg, city) []:Plaza</span>
</span><span class='line'><span class="go"> Organization Name (eg, company) [Internet Widgits Pty Ltd]:Calixto Garcia</span>
</span><span class='line'><span class="go"> Organizational Unit Name (eg, section) []:Calixto Garcia</span>
</span><span class='line'><span class="go"> Common Name (e.g. server FQDN or YOUR name) []:Hospital Calixto Garcia</span>
</span><span class='line'><span class="go"> Email Address []:ssl@hcg.sld.cu</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ya tenemos la clave pública (el &ldquo;.pem&rdquo;). Este fichero será distribuido a
nuestros clientes para que puedan hacer dos cosas: Cosa 1, cifrar los datos, sin
poder descifrarlos. Cosa 2, identificar a la autoridad certificadora.</p>

<figure class='code'><figcaption><span>&#8220;la clave privada y publica de nuestra CA&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> [lazaro@artema CA]$ ls</span>
</span><span class='line'><span class="go"> rootCA.key  rootCA.pem</span>
</span></code></pre></td></tr></table></div></figure>


<p>Nota para los imbéciles: El <strong>rootCA.pem</strong> se instalará en los clientes,
navegadores, teléfonos, etc&hellip;</p>

<p>Note además, que hemos dado a nuestra clave pública, 10 años antes de su
caducidad (-days 3650). Quizás quieras darle un solo.</p>

<p><img class="left" src="/images/Enigma.jpg" title="&#34;Enigma, un disposotivo criptográfico de cuando no existía SSL.&#34;" alt="&#34;Enigma, un disposotivo criptográfico de cuando no existía SSL.&#34;"></p>

<p>Ya puedes hacer público el &ldquo;.pem&rdquo; para que todo el que sepa que hacer con este,
se lo instale. Por ejemplo, si tienes una intranet local, podrías dejarla con
http plano y brindar información (así como la descarga) sobre el dicha clave.
Puedes crear una página de HTML plano explicando porque SSL y como instalarlo
en los navegadores. Ahí dices además, que se debe iniciar la conexión usando el
prefijo &ldquo;https&rdquo;. Podrías poner esa página como el destino de redirección
para todos los virtualhsot que usen &ldquo;http&rdquo; y así hacer conciencia a los
usuarios. Por ejemplo, en servidores con información sensible (como los
webmails), solo debe ser alcanzado usando ssl.</p>

<p>Pero <strong>sin extremismos</strong>. Una intranet que brinda información pública, no tiene
que ser obligado por SSL (a menos que sea un wordpress con login).</p>

<p>Por cierto, Firefox tiene su propio almacén de certificados. Dirígete a
Configuraciones, Avanzada, Certificados.</p>

<p><img class="right" src="/images/localCA1.png" title="&#34;localizando el almacén de certificados&#34;" alt="&#34;localizando el almacén de certificados&#34;"></p>

<p>Una vez ahí, ve a donde dice <strong>Autoridades</strong> (no a tus certificados) y procede a
importar el certificado.</p>

<p><img class="right" src="/images/localCA2.png" title="&#34;importando el certificado a firefox&#34;" alt="&#34;importando el certificado a firefox&#34;"></p>

<p>En android también es tremenda balasera instalar el &ldquo;.pem&rdquo; y no dejará de
meterme miedo diciendo que &ldquo;un tercero podría estar manipulando tu información&rdquo;.
Lo cual no deja de ser cierto, poner un SSLbumper a squid bataría para hacer
horrores.</p>

<p><img class="right" src="/images/localCA3.png" width="300" height="400" title="&#34;instalando el .pem en android&#34;" alt="&#34;instalando el .pem en android&#34;"></p>

<p>Llégate a la configuración de seguridad y verás una opción que dice &ldquo;instalar
certificados desde la tarjetaSD&rdquo; o &ldquo;desde el almacenamiento&rdquo;.</p>

<p>En algunos android 4, si te pide una clave y no sabes cual es, debes configurar
el acceso al teléfono mediante clave. O sea, quita el patrón, pon una clave y
prueba importar el &ldquo;.pem&rdquo;. Al pedir la clave pones la que estableciste para
entrar. Una vez importado el certificado, vuelves a poner el mecanismo de
seguridad que deses (patrón, ninguno, etc&hellip;)</p>

<h3>de vuelta al servidor secreto</h3>

<p>Pasemos ahora a crear uno (o varios) certificados para nuestros servidores.
Para empezar, crearemos el certificado del servidor de correo, pero no del
smtp, si no del webmail.</p>

<p><strong>MUY IMPORTANTE</strong> en los certificados, el CN (Common Name) no puede ser el que
te de la gana a tí. Si por ejemplo tu servidor de correo está en
webmail.dominio.cu, ese ha de ser su CN</p>

<p>Nota para los imbéciles: Creas un certificado para cada servicio y su CN será el
mismo nombre del virtualhost.</p>

<p>Creamos una clave privada para este servidor (para que pueda cifrar, te requiero
que es bilateral y simétrico).</p>

<p><strong>openssl genrsa -out webmail.key 2048</strong></p>

<figure class='code'><figcaption><span>&#8220;la clave privada del webmail&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> [lazaro@artema CA]$ openssl genrsa -out webmail.key 2048</span>
</span><span class='line'><span class="go"> Generating RSA private key, 2048 bit long modulus</span>
</span><span class='line'><span class="go"> .+++</span>
</span><span class='line'><span class="go"> ......................................................................................+++</span>
</span><span class='line'><span class="go"> e is 65537 (0x010001)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Le pedimos a esta clave que genera un certificado (certificate request).</p>

<p><strong>openssl req -new -key webmail.key -out webmail.csr</strong></p>

<figure class='code'><figcaption><span>&#8220;solicitud de certificado&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> [lazaro@artema CA]$ openssl req -new -key webmail.key -out webmail.csr</span>
</span><span class='line'><span class="go"> You are about to be asked to enter information that will be incorporated</span>
</span><span class='line'><span class="go"> into your certificate request.</span>
</span><span class='line'><span class="go"> What you are about to enter is what is called a Distinguished Name or a DN.</span>
</span><span class='line'><span class="go"> There are quite a few fields but you can leave some blank</span>
</span><span class='line'><span class="go"> For some fields there will be a default value,</span>
</span><span class='line'><span class="go"> If you enter &#39;.&#39;, the field will be left blank.</span>
</span><span class='line'><span class="go"> -----</span>
</span><span class='line'><span class="go"> Country Name (2 letter code) [AU]:CU</span>
</span><span class='line'><span class="go"> State or Province Name (full name) [Some-State]:Havana</span>
</span><span class='line'><span class="go"> Locality Name (eg, city) []:Plaza</span>
</span><span class='line'><span class="go"> Organization Name (eg, company) [Internet Widgits Pty Ltd]:Calixto Garcia</span>
</span><span class='line'><span class="go"> Organizational Unit Name (eg, section) []:Calixto Garcia</span>
</span><span class='line'><span class="go"> Common Name (e.g. server FQDN or YOUR name) []:webmail.hcg.sld.cu</span>
</span><span class='line'><span class="go"> Email Address []:ssl@hcg.sld.cu</span>
</span><span class='line'><span class="go"> </span>
</span><span class='line'><span class="go"> Please enter the following &#39;extra&#39; attributes</span>
</span><span class='line'><span class="go"> to be sent with your certificate request</span>
</span><span class='line'><span class="go"> A challenge password []:</span>
</span><span class='line'><span class="go"> An optional company name []:</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ya tenemos las dos máquinas enigmas listas, pero no están sincronizadas y por
ende, los cifrados producidos producidos por estos dos ficheros, serán
simétricos pero no bilaterales. Alguien debe decirle que son padre e hijo.</p>

<p>Eso lo haremos, firmando con nuestro CA, el certificado generado.</p>

<p><strong>openssl x509 -req -in webmail.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out webmail.crt -days 3650 -sha256</strong></p>

<figure class='code'><figcaption><span>&#8220;firmando el certificado con la CA&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go">[lazaro@artema CA]$ openssl x509 -req -in webmail.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out webmail.crt -days 3650 -sha256</span>
</span><span class='line'><span class="go">Signature ok</span>
</span><span class='line'><span class="go">subject=C = CU, ST = Havana, L = Plaza, O = Calixto Garcia, OU = Calixto Garcia, CN = webmail.hcg.sld.cu, emailAddress = ssl@hcg.sld.cu</span>
</span><span class='line'><span class="go">Getting CA Private Key</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note como hacemos uso de las claves pública y privada del CA. Por tanto, si un
atacante adquiere los certificados del webmail y los colocase en otro sitio,
este no machea el CN webmail.hcg.sld.cu y desata una advertencia en el navegador
de nuestros usuarios. Además, no podrá firmar el certificado para modificarlo e
incluir su CN.</p>

<figure class='code'><figcaption><span>&#8220;los certificados del webmail&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go">[lazaro@artema CA]$ ls</span>
</span><span class='line'><span class="go">rootCA.key  rootCA.pem  rootCA.srl  webmail.crt  webmail.csr  webmail.key</span>
</span></code></pre></td></tr></table></div></figure>


<p>Bueno, todo listo, hagamos un paquete con todo lo necesario para que nuestro
servidor de correo se lo configure en el webmail. Para postfix y para dovecot,
debemos hacer otro que machee smtp.hcg.sld.cu y pop3.hcg.sld.cu sucesivamete.</p>

<p><strong>REPITO!</strong> el rootCA<strong>.key</strong> <strong>NO</strong> puede hacerse público. Así que le daremos
una copia del rootCA<strong>.pem</strong></p>

<figure class='code'><figcaption><span>&#8220;empaquetando la entrega&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> [lazaro@artema CA]$ mkdir webmail</span>
</span><span class='line'><span class="go"> [lazaro@artema CA]$ mv webmail.* webmail/</span>
</span><span class='line'><span class="go"> [lazaro@artema CA]$ cp rootCA.pem webmail/</span>
</span><span class='line'><span class="go"> [lazaro@artema CA]$ tar cvfz webmail.tar.gz webmail/</span>
</span><span class='line'><span class="go"> webmail/</span>
</span><span class='line'><span class="go"> webmail/webmail.crt</span>
</span><span class='line'><span class="go"> webmail/webmail.csr</span>
</span><span class='line'><span class="go"> webmail/webmail.key</span>
</span><span class='line'><span class="go"> webmail/rootCA.pem</span>
</span><span class='line'><span class="go"> [lazaro@artema CA]$ scp webmail.tar.gz root@webmail.hcg.sld.cu:/root/</span>
</span></code></pre></td></tr></table></div></figure>


<p>Instálale esos certificado a tu
<a href="http://lmgtfy.com/?q=apache+ssl+howto">apache</a>/<a href="http://lmgtfy.com/?q=nginx+ssl+howto">nginx</a>
y todo el que tenga el <strong>rootCA.pem</strong> instalado en su dispositivo; verá a
&ldquo;Calixto Garcia&rdquo; como una legítima autoridad certificadora al abrir el webmail.</p>

<p>Lo que si no me queda claro es como se le instala el &ldquo;.pem&rdquo; a Windows. ¿Sugerencias?</p>

<p><img class="center" src="/images/localCA4.png" width="200" height="300" title="&#34;autoridad certificadora, o al menos, eso dicen&#34;" alt="&#34;autoridad certificadora, o al menos, eso dicen&#34;"></p>

<p>Aquí les dejo <a href="https://gist.github.com/acf09c97f0bf27a18f0be9e757df1f80">el script que uso</a> para hacer esto de forma automatizada. Para correrlo cree un directorio. Por ejemplo:</p>

<figure class='code'><figcaption><span>&#8220;CA&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> mkdir miCA</span>
</span><span class='line'><span class="go"> cd miCA</span>
</span><span class='line'><span class="go"> mkcert.sh</span>
</span></code></pre></td></tr></table></div></figure>


<p>Al correrlo la primera vez te creara el <strong>rootCA.pem</strong>, luego al correrlo con
argumentos, se generan certificados para dichos dominios.</p>

<figure class='code'><figcaption><span>&#8220;CA&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> mkcert.sh fulanito.dominio.cu</span>
</span><span class='line'><span class="go"> ...</span>
</span><span class='line'><span class="go"> echo fulanito.dominio.cu.tar.gz está listo para despachar</span>
</span></code></pre></td></tr></table></div></figure>


<p>Te devolverá un .tar.gz con todo dentro.</p>
</div>
  
  


<p>Si este art&iacute;culo te result&oacute; interesante, considere donar 0.003 BTC: <a href="https://blockchain.info/address/1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2">1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2</a> </p>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/04/08/xen-y-virt-manager/">xen y virt-manager</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-04-08T00:04:41-04:00'><span class='date'>08/04/2017</span> <span class='time'>12:04 am</span></time>
        
           | <a href="/blog/2017/04/08/xen-y-virt-manager/#disqus_thread"
             data-disqus-identifier="http://uranio-235.github.io/blog/2017/04/08/xen-y-virt-manager/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>La miseria, es lo único que; aun repartida a muchos, toca en abundancia. Esta
historia se desarrolla en un policlínico remoto y olvidado; donde tuve que
facturar con un 50% de descuento para que dejaran de decir &ldquo;por favor ayuda&rdquo;.</p>

<p>La superioridad tecnológica de XenServer es indiscutible: seguro (esquema de
pacheo de XOA), versátil (la XAPI), robusto (CentOS) y sencillo (Xen Orchestra
Appliance) y enterprise (next, next, next, install, boot, ready!) PERO:</p>

<p><img class="right" src="/images/XenFuPandaWiki.png" title="&#34;el xenfu panda, el logo de Xen, olvidado o desconocido por los usuarios de Citrix XenServer&#34;" alt="&#34;el xenfu panda, el logo de Xen, olvidado o desconocido por los usuarios de Citrix XenServer&#34;"></p>

<p>Cuando los megas de RAM se cuentan con los dedos de una mano, el peso de la XAPI
y la necesidad de tener otra máquina corriendo para el XenOrchestra, DUELEN.
Tomemos por ejemplo, una máquina con 2 gigas de RAM. En mi caso tengo Xen
Orchestra en la laptop, pero desplegar node+servidor en una máquina virtual más;
no es una opción en este escenario. Que se jodan XOA, XenServer y los
capitalistas de la Citrix ¡Hora de ser completamente libre!</p>

<p>Yo hubiera matado la jugada con LXC pero el cliente insiste en usar los 3
sistemas; tal como está en mi esquema del calixto. Lo cierto es que 3
contenedores no inspiran mucha confianza. Tampoco KVM es una buena opción, sobre
todo cuado no hay un super microprocesador.</p>

<p>Rercordemos que: Xen, mejor con CPU, pero peor IO. Mientras que: KVM, mejor IO,
pero CPU más penalizado.</p>

<p>El menú:</p>

<p>Dos interfaces de red, un disco de 500G, 2G de ram, y un CPU que <strong>por suerte</strong>
soporta virtualización. Un switch de 24 puertos a 100 megas, otro a gigabit. Un
friki que oye reguetton, una enfermera de post-guardia (la mujer del friki) y 5
pesos de café en un vaso plástico.</p>

<p>Las VM y su RAM:</p>

<ul>
<li>debian como servidor de correo (postfix y dovecot, sin webmail) - 512M</li>
<li>alpine como ruter (dns, dhcp y firewall) - 512M</li>
<li>FreeBSD como proxy (squid) - 1G</li>
</ul>


<p>La brujería:</p>

<p><strong>Con suerte</strong> No se matarán por los 2 Gigas de RAM. El squid con usuarios PAM
como autenticación y casi nada en las ACL, además en BSD no come mucha ram.
Alpine es un chiste en lo que a RAM se refiere y el de correo no tendrá un
webmail así que plin.</p>

<p>Los 3 servidores tendrán unos cortafuegos super estrictos. Descartarán todo tipo
de ICMP para evitar cuellos de botella. La LAN funciona a 100 megas y el
servidor está conectado al ÚNICO switch a gigabit. Osea, el server, un switch y
un cable al netgear viejo que está a 100 megas. Con eso, la difusión &ldquo;uno a
varios&rdquo; será mayor y no habrá congestiones, mientras que la peticiones entrantes
(individual) no excederán el 10% el ancho de vianda del servidor. La ley del
embudo.</p>

<p>Entrando en materia:</p>

<p>Volvemos a la génesis de xen pero usaremos virt-manager para manejar el
hypervisor.</p>

<p>Primero que todo, llevamos a cabo una instalación típica de Xen en un debian 8.
Nada que contar; el clásico Dom0.</p>

<figure class='code'><figcaption><span>&#8220;xen-linux-system&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> aptitude update</span>
</span><span class='line'><span class="go"> aptitude install xen-linux-system</span>
</span><span class='line'><span class="go"> dpkg-divert --divert /etc/grub.d/08_linux_xen --rename /etc/grub.d/20_linux_xen</span>
</span></code></pre></td></tr></table></div></figure>


<p>Esta PC tiene dos interfaz de red. Una de cara al router, con una ip/29
&ldquo;públicas&rdquo; y otra interfaz, de cara a la LAN. Por tanto crearemos 3 puentes:</p>

<ul>
<li>br0 de eth0 hacia el router</li>
<li>br1 de eth1 hacia la LAN</li>
<li>br2 para comunicación interna (costumbre, nunca está de más)</li>
</ul>


<p>Así me quedó el <strong>/etc/network/interfaces</strong></p>

<figure class='code'><figcaption><span>&#8220;/etc/network/interfaces&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> # arriba todo el mundo</span>
</span><span class='line'><span class="go"> auto lo eth0 eth1 br0 br1 br2</span>
</span><span class='line'>
</span><span class='line'><span class="go"> # el lo</span>
</span><span class='line'><span class="go"> iface lo inet loopback</span>
</span><span class='line'>
</span><span class='line'><span class="go"> # levanta las dos interfacess</span>
</span><span class='line'><span class="go"> # pa cuando el bridge se levante</span>
</span><span class='line'><span class="go"> iface eth0 inet manual</span>
</span><span class='line'><span class="go"> iface eth1 inet manual</span>
</span><span class='line'>
</span><span class='line'><span class="go"> # puente de la interfaz onboard (WAN)</span>
</span><span class='line'><span class="go"> iface br0 inet static</span>
</span><span class='line'><span class="go">    bridge_ports eth0</span>
</span><span class='line'><span class="go">    bridge_stp off</span>
</span><span class='line'><span class="go">    bridge_waitport 0</span>
</span><span class='line'><span class="go">    bridge_fd 0</span>
</span><span class='line'>
</span><span class='line'><span class="go"> # puente de la interfaz PCI (LAN)</span>
</span><span class='line'><span class="go"> # y la ip del hypervisor para hacer SSH</span>
</span><span class='line'><span class="go"> iface br1 inet manual</span>
</span><span class='line'><span class="go">    address 192.168.99.10</span>
</span><span class='line'><span class="go">    netmask 255.255.255.0</span>
</span><span class='line'><span class="go">    bridge_ports eth1</span>
</span><span class='line'><span class="go">    bridge_stp off</span>
</span><span class='line'><span class="go">    bridge_waitport 0</span>
</span><span class='line'><span class="go">    bridge_fd 0</span>
</span><span class='line'>
</span><span class='line'><span class="go"> # una interfaz de red local de las VM</span>
</span><span class='line'><span class="go"> # note que el puente apunta a la interfaz none</span>
</span><span class='line'><span class="go"> iface br2 inet static</span>
</span><span class='line'><span class="go">    bridge_ports eth0</span>
</span><span class='line'><span class="go">    address 169.254.0.1</span>
</span><span class='line'><span class="go">    netmask 255.255.255.0</span>
</span><span class='line'><span class="go">    bridge_ports none</span>
</span><span class='line'><span class="go">    bridge_stp off</span>
</span><span class='line'><span class="go">    bridge_waitport 0</span>
</span><span class='line'><span class="go">    bridge_fd 0</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ahora vienen los toques mágicos. <strong>Libvirt!</strong></p>

<figure class='code'><figcaption><span>&#8220;libvirtd&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> apt-get install libvirt-bin</span>
</span></code></pre></td></tr></table></div></figure>


<p>De más está que te diga, que este debian fue instalado sobre LVM. Crea el
directorio <strong>/etc/libvirt/storage/</strong> y dentro, le pondremos un fichero llamado
<strong>xenvg.xml</strong> o comotedelagana<strong>.xml</strong>. Al instalar con el particionado guiado;
el grupo llama hostname-vg, en este caso <strong>xen-vg</strong>. Note como la cláusula
<strong>path</strong>, apunta hacia el mapper del grupo de volumen group y que tanto nombre
del fichero como del pool; no deben contener espacios ni &ldquo;-&rdquo;.</p>

<figure class='code'><figcaption><span>&#8220;/etc/libvirt/storage/xenvg.xml&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;pool</span> <span class="na">type=</span><span class="s">&#39;logical&#39;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;name&gt;</span>xenvg<span class="nt">&lt;/name&gt;</span>
</span><span class='line'>  <span class="nt">&lt;target&gt;</span>
</span><span class='line'>    <span class="nt">&lt;path&gt;</span>/dev/xen-vg<span class="nt">&lt;/path&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/target&gt;</span>
</span><span class='line'><span class="nt">&lt;/pool&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ahora inicializaremos el pool de libvirt:</p>

<figure class='code'><figcaption><span>&#8220;virsh&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> virsh pool-define /etc/libvirt/storage/xenvg.xml</span>
</span><span class='line'><span class="go"> virsh pool-start xenvg</span>
</span><span class='line'><span class="go"> virsh pool-autostart xenvg</span>
</span></code></pre></td></tr></table></div></figure>


<p>Corre <strong>virsh pool-info xenvg</strong> para ver si todo pinchó. Llegado a este punto
te recomiendo reiniciar&hellip;</p>

<h4>De regreso a la máquina del informático&hellip;</h4>

<p>Arrancamos el virt-manager:</p>

<p><img class="center" src="/images/virtmanager1.png" title="&#34;iniciando virt-manager desde gnome-shell&#34;" alt="&#34;iniciando virt-manager desde gnome-shell&#34;"></p>

<p>De más está que te diga, que las operaciones de libvirt se hacen por
ssh, así que debes tener ssh en la máquina remota; preferiblemente con
autenticación por llaves y no por password.</p>

<figure class='code'><figcaption><span>&#8220;ssh&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> ssh-keygen</span>
</span><span class='line'><span class="go"> ssh-copy-id root@192.168.99.10</span>
</span></code></pre></td></tr></table></div></figure>


<p>Vamos a <strong>File</strong> y <strong>Add connection</strong>, agregaremos una conexión del tipo
<strong>Xen</strong>.</p>

<p><img class="center" src="/images/virtmanager2.png" title="&#34;conectando al libvirtd del servidor xen&#34;" alt="&#34;conectando al libvirtd del servidor xen&#34;"></p>

<p>De aquí en adelante, es la misma mecánica básica de virt-manager. Solo quiero
hacer un apartado para crear un pool más y me refrito a un pool donde pondremos
los ficheros &ldquo;.iso&rdquo;.</p>

<p>Creamos el directorio donde meteremos los ISO y copiamos el iso que querramos
para allá. Como ya me conocen, soy el enemigo de las plantillas. Confío más en
lo que yo mismo hago que en lo que hacen otros.</p>

<figure class='code'><figcaption><span>&#8220;mkdir&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> ssh root@192.168.99.10 mkdir /opt/isos/</span>
</span><span class='line'><span class="go"> scp ~/Downloads/ISO/*.iso root@192.168.99.10:/opt/isos/</span>
</span></code></pre></td></tr></table></div></figure>


<p>Selecciona la conexión al Xen, y haz click en el botón de crear nueva máquina.</p>

<p><img class="center" src="/images/virtmanager3.png" title="&#34;creando el repositorio con las iso&#34;" alt="&#34;creando el repositorio con las iso&#34;"></p>

<p>El asistente nos llevará al gestor de almacenamiento. Seleccionamos &ldquo;Local
install media&rdquo; y click en siguiente. Luego &ldquo;Use ISO image&rdquo;.</p>

<p><img class="left" src="/images/virtmanager4.png" width="300" height="300" title="&#34;Local Install Media&#34;" alt="&#34;Local Install Media&#34;">
<img class="left" src="/images/virtmanager5.png" width="300" height="300" title="&#34;Use ISO image&#34;" alt="&#34;Use ISO image&#34;"></p>

<p>Aquí haces click en <strong>Browse</strong> y te conduce al lugar donde crearemos los ISO.
Inmediatamente te verás en la pantalla donde te pedirá que selecciones los
storage volume. En la imagen se puede apreciar que ya existe uno llamado &ldquo;iso&rdquo;,
pero de igual, para el ejemplo mostraremos como se creará.</p>

<p>Odio las interfaz visual, como hacen pasar trabajo! Pero virsh no es cosa jamón
para mi cliente que no es del todo un hacha en linux.</p>

<p>Bueno&hellip; has click en el signo de más color azul y te mostrará un dialogo que
muestra &ldquo;Create Storage Pool&rdquo;. Lo nombramos &ldquo;iso&rdquo; y le decimos que será del tipo
&ldquo;dir&rdquo;. O sea un directorio común en el sistema de archivos.</p>

<p><img class="center" src="/images/virtmanager6.png" title="&#34;creando el storage pool de los ISO&#34;" alt="&#34;creando el storage pool de los ISO&#34;"></p>

<p>Como segundo argumento, nos pedirá la ruta. Le daremos la que creamos en el
servidor, en este caso <strong>/opt/isos</strong>.</p>

<p><img class="center" src="/images/virtmanager7.png" title="&#34;la ruta del SR&#34;" alt="&#34;la ruta del SR&#34;"></p>

<p>Sí todo salió bien, verás los .iso que tiene el directorio.</p>

<p><img class="center" src="/images/virtmanager8.png" title="&#34;los .iso del directorio&#34;" alt="&#34;los .iso del directorio&#34;"></p>

<p>Al hacer click en el iso seleccionado, vuelve el asistente y muestra que se
usará dicho iso.</p>

<p><img class="center" src="/images/virtmanager9.png" title="&#34;selecciona el iso&#34;" alt="&#34;selecciona el iso&#34;"></p>

<p>Lo demás es pa mongo, la RAM el disco que creamos en el SR &ldquo;default&rdquo;, etc&hellip;</p>

<p><img class="center" src="/images/virtmanager12.png" title="&#34;custumise configeichon befor instal&#34;" alt="&#34;custumise configeichon befor instal&#34;"></p>

<p>Marcamos el <em>check</em> que dice &ldquo;Customize configuration before install&rdquo; y caeremos
en la pantalla que muestra todos los detalles de la máquina.</p>

<p><img class="center" src="/images/virtmanager14.png" title="&#34;modificando el hardware&#34;" alt="&#34;modificando el hardware&#34;"></p>

<p>Esta pantalla es importante; no permite configurar de manera más exquisita el
hardware. Por ejemplo, las interfaces de redes, yo quiero que tenga como primera
interfaz, la que apunta a br0 y como segunda, la que apunta a br2. Además,
algunas veces la máquinas traen una wacom tablet como interfaz (mariconerías del
virt-manager).</p>

<p>En fin, así me quedó la mía.</p>

<p><img class="center" src="/images/virtmanager15.png" title="&#34;arrancando&#34;" alt="&#34;arrancando&#34;"></p>
</div>
  
  


<p>Si este art&iacute;culo te result&oacute; interesante, considere donar 0.003 BTC: <a href="https://blockchain.info/address/1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2">1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2</a> </p>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/03/29/jugar-teeworlds-en-lan/">jugar teeworlds en LAN</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-03-29T00:00:16-04:00'><span class='date'>29/03/2017</span> <span class='time'>12:00 am</span></time>
        
           | <a href="/blog/2017/03/29/jugar-teeworlds-en-lan/#disqus_thread"
             data-disqus-identifier="http://uranio-235.github.io/blog/2017/03/29/jugar-teeworlds-en-lan/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Un otorrino me ha dejado sorprendido cuando me pidió que le instalara ArchLinux
en su laptop (las todos tenemos de los médicos). La primera vez le instalé
fedora, pero lo quitó y volvió pidiéndome que le instalara arch. El doctor
Bershard, me cuenta las epopeyas de los usuarios de linux en la red de la
habana.</p>

<p><img class="center" src="/images/teeworlds.png"></p>

<p>Durante el proceso de &ldquo;que te instalo&rdquo; me mencionó &ldquo;el tiwol&rdquo; como un juego muy
importante. No me imaginé que sería tan fascinante. Similar al minimilitia de
android. Me di cuenta que crear un server, es lanzar un comando y dejarlo
funcionando. La gente se conecta y desconecta del servidor cuando quiera. Se
pueden jugar partidas de equipo, pero la más caliente es el &ldquo;death match&rdquo;. Entra
mata un rato y sale cuando te aburras.</p>

<p>En el calixto el jueguito causó furor (está para windows y se conecta
perfectamente). A cada rato entro y me encuentro 3 o 4 con nombres cada vez más
creativos matándose a tiros y dando brincos.</p>

<p>Según la documentación, al correr <strong>teeworlds_srv -f fichero.cfg</strong> cargará ese
fichero. Muy útil para crear múltiples modos de juego. Al lanzar el comando
<strong>teeworlds_srv</strong> noté que dice:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go">[58db3577][storage]: using standard paths</span>
</span><span class='line'><span class="go">[58db3577][storage]: added path &#39;$USERDIR&#39; (&#39;/home/lazaro/.teeworlds&#39;)</span>
</span><span class='line'><span class="go">[58db3577][storage]: added path &#39;$DATADIR&#39; (&#39;/usr/share/teeworlds/data&#39;)</span>
</span><span class='line'><span class="go">[58db3577][storage]: added path &#39;$CURRENTDIR&#39; (&#39;/home/lazaro/.teeworlds&#39;)</span>
</span><span class='line'><span class="go">[58db3577][console]: failed to open &#39;autoexec.cfg&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Así que al crear el fichero <strong>/home/lazaro/.teeworlds/autoexec.cfg</strong> resultó que
se cargaba solo. Pero&hellip; ¿qué metemos ahí?</p>

<figure class='code'><figcaption><span>&#8220;autoexec.cfg&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='ini'><span class='line'><span class="c1">#</span>
</span><span class='line'><span class="c1"># teeworld_srv -f este_fichero.cfg</span>
</span><span class='line'><span class="c1">#</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Los mapas y la secuencia de mapas</span>
</span><span class='line'><span class="c1">#</span>
</span><span class='line'><span class="c1"># ls /usr/share/teeworlds/data/maps/</span>
</span><span class='line'><span class="err">sv_map</span> <span class="err">dm7</span>
</span><span class='line'><span class="err">sv_maprotation</span> <span class="err">dm7</span> <span class="err">dm6</span> <span class="err">dm2</span> <span class="err">dm9</span> <span class="err">md8</span> <span class="err">dm1</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># como se ve el servidor</span>
</span><span class='line'><span class="err">sv_name</span> <span class="err">Masacre</span> <span class="err">en</span> <span class="err">el</span> <span class="err">Calixto</span>
</span><span class='line'><span class="err">sv_motd</span> <span class="err">&quot;las</span> <span class="err">teclas</span> <span class="err">son</span> <span class="err">«a»,</span> <span class="err">«d»</span> <span class="err">y</span> <span class="err">Espacio&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># que tipo de juego jugamos</span>
</span><span class='line'><span class="err">sv_gametype</span> <span class="err">dm</span>
</span><span class='line'><span class="err">sv_scorelimit</span> <span class="err">30</span>
</span><span class='line'><span class="err">sv_timelimit</span> <span class="err">0</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># configuración del servidor</span>
</span><span class='line'><span class="err">bindaddr</span> <span class="err">0.0.0.0</span>
</span><span class='line'><span class="err">sv_register</span> <span class="err">to</span> <span class="err">0</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># permite usar la consola remota</span>
</span><span class='line'><span class="err">sv_rcon_password</span> <span class="err">secretisimo</span>
</span></code></pre></td></tr></table></div></figure>


<p>Dice: Jugaremos una ronda de 30 puntos, sin límite de tiempo, que empieza por el
mapa &ldquo;dm7&rdquo;.</p>

<p>El comando <em>sv_maprotation</em> recibe como argumento la lista de mapas. Cada vez
que termine una ronda, se cambiará el mapa.</p>

<p>Más información en el sitio de teeworlds <a href="https://www.teeworlds.com/?page=docs&amp;wiki=server_setup_2">www.teeworlds.com</a></p>
</div>
  
  


<p>Si este art&iacute;culo te result&oacute; interesante, considere donar 0.003 BTC: <a href="https://blockchain.info/address/1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2">1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2</a> </p>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/03/17/nueva-vm-siempre-es-pv/">nueva VM siempre es PV</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-03-17T20:46:32-04:00'><span class='date'>17/03/2017</span> <span class='time'>8:46 pm</span></time>
        
           | <a href="/blog/2017/03/17/nueva-vm-siempre-es-pv/#disqus_thread"
             data-disqus-identifier="http://uranio-235.github.io/blog/2017/03/17/nueva-vm-siempre-es-pv/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Cuando usamos XenOrchestra, aveces sucede que teniendo un XenServer con &ldquo;muchas&rdquo;
máquinas virtuales, al crear una nueva; se crea como Paravirtualizada (PV) y no
como Virutalización por Hardware (HVM). Nos damos cuenta porque arrancar la
máquina buteando de una unidad óptica es casi imposible.</p>

<p>Algunos creen que es porque XenServer impone un límite. Esto no es cierto, ya
que XenServer es completamente gratuito hoy en día. Simplemente, asume que el
servidor está muy cargado y que una PV es más ligera. En mi experiencia creo que
XenOrchestra es el que hace eso; no xenserver como tal. También influye la
plantilla que utilices para crear una nueva VM.</p>

<p>Cuando esto pase, simplemente tomas la máquina y le dices que se pase a HVM. Lo
haremos seteando un parámetros que involucre HVM.</p>

<figure class='code'><figcaption><span>&#8220;xe&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'> xe vm-param-set <span class="nv">uuid</span><span class="o">=</span>uuid-de-la-maquina HVM-boot-policy<span class="o">=</span><span class="s2">&quot;BIOS order&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Al setearle que el orden de buteo será el que diga el bios y listo. La máquina
pasa a ser HVM.</p>
</div>
  
  


<p>Si este art&iacute;culo te result&oacute; interesante, considere donar 0.003 BTC: <a href="https://blockchain.info/address/1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2">1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2</a> </p>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/03/04/rainloop-en-debian/">rainloop en debian</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-03-04T13:45:55-05:00'><span class='date'>04/03/2017</span> <span class='time'>1:45 pm</span></time>
        
           | <a href="/blog/2017/03/04/rainloop-en-debian/#disqus_thread"
             data-disqus-identifier="http://uranio-235.github.io/blog/2017/03/04/rainloop-en-debian/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Aún recuerdo que algunos clientes me preguntaban con mucho asombro: &ldquo;-y porque
no roundcube&rdquo;; cuando hablábamos de webmail. Pero finalmente rainloop se ha
puesto de moda en cuba.</p>

<p>Un método bastante perezoso de instalar una LAMP <strong>en Debian</strong>, es instalar el
paquete <strong>phpmyadmin</strong>. Esto instala y configura el servidor SQL; además de
hacer jugar a apache2 con php y mysql, todo de un solo teclazo. Pero aveces, por
ejemplo, al instalar RainLoop, no queremos que phpmyadmin quede instalado. Una
buena variante es desinstalarlo después; pero nos quedan algunos paquetes
innecesarios instalados.</p>

<p>Para lograr la armonía que buscamos, instalaremos la LAMP por partes. Primero
apache SOLO.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> aptitude install apache2</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ahora instalamos mysql, a través de los metapaquetes, para que se instale el
adecuado de manera automática.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> aptitude install mysql-server mysql-client</span>
</span></code></pre></td></tr></table></div></figure>


<p>Llegado a este punto, debian y su magia te ayudarán a configurar el mysql,
pidiéndote la contraseña del root. Ahora instalamos la piedra angular. El
soporte de php+mysql de apache.</p>

<figure class='code'><figcaption><span>&#8220;soporte de mysql&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> aptitude install php5 libmysqlclient-dev php5-mysql</span>
</span></code></pre></td></tr></table></div></figure>


<p>Instalamos el resto de la paquetería necesaria para rainloop.</p>

<figure class='code'><figcaption><span>&#8220;paquetería de rainloop&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> aptitude install curl libcurl3 libcurl3-dev php5-curl php5-json</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ahora <strong>reinicia</strong> tanto apache como mysql.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go"> systemctl restart mysql</span>
</span><span class='line'><span class="go"> systemctl restart apache2</span>
</span></code></pre></td></tr></table></div></figure>


<p>Crearemos un par de bases de datos necesarias para rainloop. Puedes o no crear
un usuario para rainloop, pero si vamos a tener un servidor sql con dos bases de
datos para una aplicación; la cual además, será la única cosa sql en el
servidor; no vale la pena crear otro usuario. Lo dejo a tu elección.</p>

<figure class='code'><figcaption><span>&#8220;creando las bases&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">create</span> <span class="k">database</span> <span class="n">rainloop</span><span class="p">;</span>
</span><span class='line'><span class="k">create</span> <span class="k">database</span> <span class="n">contactos</span><span class="p">;</span>
</span><span class='line'><span class="k">commit</span><span class="p">;</span>
</span><span class='line'><span class="n">exit</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Si de todas maneras quieres crear el usuario.</p>

<figure class='code'><figcaption><span>&#8220;un usuario pa rainloop&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">create</span> <span class="k">user</span> <span class="n">rainloop</span><span class="o">@</span><span class="n">localhost</span> <span class="n">identified</span> <span class="k">by</span> <span class="ss">&quot;rainloop&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">grant</span> <span class="k">all</span> <span class="k">privileges</span> <span class="k">on</span> <span class="n">rainloop</span><span class="p">.</span><span class="o">*</span> <span class="k">to</span> <span class="n">rainloop</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span>
</span><span class='line'><span class="n">flush</span> <span class="k">privileges</span><span class="p">;</span>
</span><span class='line'><span class="n">exit</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Y vamos a instalar rainloop! La manera clásica de hacerlo es usando el paquete
&ldquo;.zip&rdquo; del sitio. Si quieres llégate allá y bájatelo. Descomprimes en un
directorio y sigue las instrucciones; sin embargo hay otra manera.</p>

<figure class='code'><figcaption><span>&#8220;alando rainloop del repositorio&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go">mkdir -p /var/www/rainloop</span>
</span><span class='line'><span class="go">cd /var/www/rainloop</span>
</span><span class='line'><span class="go">curl -s http://repository.rainloop.net/installer.php | php</span>
</span></code></pre></td></tr></table></div></figure>


<p>Si tienes acceso a internet de verdad. Pinchará. Si estás detrás de un proxy, te
jodiste, hazlo a la manera ortodoxa.</p>

<p>Rainloop es fulísima con los permisos. Si no los tienes claros, dará unos palos
horribles que no tienen nada que ver con permisos aparentemente. Por ejemplo, si
el fichero que dice la versión, no pertenece al usuario que corre el servidor
web, te dirá que no puede encontrar el directorio &ldquo;data&rdquo;. Espectacular! Para
evitar eso, solo los directorios tendrán el ejecutable. Además, todo pertenecerá
al usuario <strong>www-data</strong>; que en debian es el usuario que usa el apache para
correr.</p>

<figure class='code'><figcaption><span>&#8220;estableciendo permisos&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>chown -R www-data:www-data .
</span><span class='line'>find . -type d -exec chmod <span class="m">755</span> <span class="o">{}</span> <span class="se">\;</span>
</span><span class='line'>find . -type f -exec chmod <span class="m">644</span> <span class="o">{}</span> <span class="se">\;</span>
</span></code></pre></td></tr></table></div></figure>


<p>No te pondré como hacer el virtualhost porque eso no tengo que explicártelo (no
te hace falta verdad?). Te recomiendo que uses SSL.</p>

<p>No olvides entrar al admin panel (o al fichero de configuración) de rainloop y
pasarle la mano. Para abrir el admin panel, usa la url <strong>/?admin</strong>. Ahí
configura las bases de datos. Muy importante habilitar el soporte de contactos y
especificarle la base de datos, que creo, no debe ser la misma que rainloop;
aunque una gente me dijo que tiene ambas cosas en la misma base de datos; yo no
le he probado.</p>

<p>El usuario por defecto es <strong>admin</strong> y la contraseña es <strong>12345</strong>. De más está
que te diga: <strong>CÁMBIALO!</strong></p>

<p>Si estás de cara a internet, recuerda que rainloop viene con yahoo y gmail
configurado como servidores por defecto. No sé si está habilitados pero
chequéalo. Juraría que hay versiones en que venía habilitado. De todas formas,
te interesará que tus usuarios tengan gmail/yahoo más cerca, especialmente si un
usuario tiene múltiples identidades. Recuérdales que deben habilitar el acceso
pop en su cuenta de gmail.</p>
</div>
  
  


<p>Si este art&iacute;culo te result&oacute; interesante, considere donar 0.003 BTC: <a href="https://blockchain.info/address/1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2">1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2</a> </p>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/03/03/nginx-y-websocket/">nginx y websocket</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-03-03T23:49:47-05:00'><span class='date'>03/03/2017</span> <span class='time'>11:49 pm</span></time>
        
           | <a href="/blog/2017/03/03/nginx-y-websocket/#disqus_thread"
             data-disqus-identifier="http://uranio-235.github.io/blog/2017/03/03/nginx-y-websocket/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Resulta que los websocket no pasan tan fácilmente por el proxy inverso. Llevan
su burumba.</p>

<p>Aquí por ejemplo, haremos un proxy inverso con SSL para una aplicación que
escucha por el puerto 8888.</p>

<figure class='code'><figcaption><span>&#8220;nginx&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">server</span> <span class="p">{</span>
</span><span class='line'>   <span class="n">listen</span> <span class="mi">80</span> <span class="n">default_server</span><span class="p">;</span>
</span><span class='line'>   <span class="k">return</span> <span class="mi">301</span> <span class="nl">https</span><span class="p">:</span><span class="c1">//$host$request_uri;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">server</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">listen</span> <span class="mi">443</span> <span class="n">ssl</span> <span class="n">default_server</span><span class="p">;</span>
</span><span class='line'>   <span class="n">ssl_certificate</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">nginx</span><span class="p">.</span><span class="n">crt</span><span class="p">;</span>
</span><span class='line'>   <span class="n">ssl_certificate_key</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">nginx</span><span class="p">.</span><span class="n">key</span><span class="p">;</span>
</span><span class='line'>   <span class="n">location</span> <span class="o">/</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">proxy_set_header</span>        <span class="n">Host</span> <span class="err">$</span><span class="n">host</span><span class="p">;</span>
</span><span class='line'>      <span class="n">proxy_set_header</span>        <span class="n">X</span><span class="o">-</span><span class="n">Real</span><span class="o">-</span><span class="n">IP</span> <span class="err">$</span><span class="n">remote_addr</span><span class="p">;</span>
</span><span class='line'>      <span class="n">proxy_set_header</span>        <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">For</span> <span class="err">$</span><span class="n">proxy_add_x_forwarded_for</span><span class="p">;</span>
</span><span class='line'>      <span class="n">proxy_set_header</span>        <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">Proto</span> <span class="err">$</span><span class="n">scheme</span><span class="p">;</span>
</span><span class='line'>      <span class="n">proxy_pass</span> <span class="nl">http</span><span class="p">:</span><span class="c1">//127.0.0.1:8888/;</span>
</span><span class='line'>      <span class="n">proxy_http_version</span> <span class="mf">1.1</span><span class="p">;</span>
</span><span class='line'>      <span class="n">proxy_set_header</span> <span class="n">Connection</span> <span class="s">&quot;upgrade&quot;</span><span class="p">;</span>
</span><span class='line'>      <span class="n">proxy_set_header</span> <span class="n">Upgrade</span> <span class="err">$</span><span class="n">http_upgrade</span><span class="p">;</span>
</span><span class='line'>      <span class="n">proxy_redirect</span> <span class="k">default</span><span class="p">;</span>
</span><span class='line'>      <span class="n">proxy_read_timeout</span> <span class="mi">1800</span><span class="p">;</span>
</span><span class='line'>      <span class="n">client_max_body_size</span> <span class="mi">128</span><span class="n">G</span><span class="p">;</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note como los encabezados Upgrade son seteados. Ese es el truco&hellip;</p>
</div>
  
  


<p>Si este art&iacute;culo te result&oacute; interesante, considere donar 0.003 BTC: <a href="https://blockchain.info/address/1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2">1LJw4ETYV3E2AYMtyfWaPwb7UPjRwV14S2</a> </p>

    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/4">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/2">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>

	<h1>Lo m&aacute;s reciente</h1>

	<ul id="recent_posts">

		

		<li class="post">
			<a href="/blog/2017/11/30/segwit-con-3-star-en-electrum/">segwit con p2sh en electrum</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/11/30/segwit-confusion/">segwit y la confusión</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/11/04/install-pandorafms/">instalando pandorafms</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/09/01/daloradius-y-sus-amigos/">daloradius y sus amigos</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/08/14/odoo-en-centos7/">odoo en centos7</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/08/13/yum-estrecho/">yum estrecho</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/07/23/lemp-en-debian/">LEMP en debian</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/06/29/repos-epel-y-demas/">repos EPEL y demás</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/06/29/knockd-en-centos/">knockd en centos</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/06/28/android-islamico/">Apps islámicas android</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/06/22/curiosa-acl-de-squid/">squid y navegar a .cu</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/05/13/instalar-node-rapido/">instalar node rápido</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/05/10/ssl-ca-local/">autoridad certificadora</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/04/08/xen-y-virt-manager/">xen y virt-manager</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/03/29/jugar-teeworlds-en-lan/">jugar teeworlds en LAN</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/03/17/nueva-vm-siempre-es-pv/">nueva VM siempre es PV</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/03/04/rainloop-en-debian/">rainloop en debian</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/03/03/nginx-y-websocket/">nginx y websocket</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/03/03/pkg-tras-un-proxy/">pkg tras un proxy</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/03/01/portknocking-en-freebsd/">portknocking en freebsd</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/03/01/bind-en-infomed/">bind en infomed</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/03/01/qos-con-tc/">QoS con tc o dummynet</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/02/22/bind-personal/">bind personal</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/02/05/dns-con-vistas/">dns con vistas</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/02/01/ipfw-simple-y-consiso/">ipfw simple y conciso</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/01/28/freebsd-11/">mis crónicas con freebsd</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/01/21/palito/">animación del palito</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/01/20/datatables-espanol/">DataTables en español</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/01/09/tendencias-tecnologicas/">tendencias tecnológicas</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/01/09/flasheando-modem-al-s4/">flasheando modem al S4</a>
      </li>

      

		<li class="post">
			<a href="/blog/2017/01/02/rails-assets/">rails-assets</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/12/29/xgproyect/">xgproyect</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/12/27/cambiar-mac-a-un-nano/">cambiar mac a un nano</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/12/19/phpmyadmin-multiples-servidores/">phpmyadmin múltiples servidores</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/12/19/iptables-y-ftp/">iptables y ftp</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/12/09/rails-en-alpine/">rails en alpine</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/11/24/squid3-bloquear-user-agent/">squid3 bloquear user-agent</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/11/22/redimensionar-lvm/">redimensionar lvm</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/11/20/sysinfo-en-el-motd/">sysinfo en el motd</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/11/14/openvpn-user-plus-pass/">openvpn user+pass</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/10/22/el-domain-pop/">recolección DomainPOP</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/10/22/domainpop-con-postfix/">domainpop con postfix</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/10/22/tunel-6in4/">túnel 6in4</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/10/22/cortafuegos-ipv6-sencillo/">cortafuegos ipv6 sencillo</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/10/22/poniendo-direcciones-ipv6/">las reglas del juego ipv6</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/10/22/ipv6/">la resolución 185/2016</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/10/04/dirver-broadcom/">driver broadcom</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/09/22/audifonos-blutu/">audífonos blutú</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/09/16/dispatcher-script/">dispatcher script</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/08/16/password-de-windows/">password de windows</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/08/15/repositorio-de-iso-en-xen/">Local ISO en XenServer</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/07/31/kiwix-como-servicio/">kiwix como servicio</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/07/17/hibernar-en-archlinux/">hibernar en archlinux</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/07/17/rsync-basico/">rsync básico</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/06/20/correos-del-cron/">correos del cron</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/06/18/dkim-y-spf-en-postfix/">dkim y spf en postfix</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/06/06/desacelerar-mouse/">desacelerar mouse</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/05/12/deshabilitar-historial-de-bash/">deshabilitar historial de bash</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/04/29/reparar-archivos-de-innodb/">reparar archivos de innodb</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/04/01/wpa2-con-freeradius/">WPA2 con freeradius</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/03/14/misterio-con-ethernet-foxconn/">misterio con ethernet foxconn</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/03/07/cargar-rvm/">cargar rvm</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/02/22/data-confirm-en-un-boton/">data confirm en un boton</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/02/20/hooks-de-pacman/">los hooks de pacman</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/02/01/arch-compartir-paquetes/">arch compartir paquetes</a>
      </li>

      

		<li class="post">
			<a href="/blog/2016/01/25/hostname-arbitrario-en-bind9/">bind9, registro arbitratio</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/12/14/servidor-jabber-con-prosody/">servidor jabber con prosody</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/11/29/mc-demora-en-abrir/">mc demora en abrir</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/11/23/desmume-ultralento/">desmume ultralento</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/11/12/rc-dot-local-en-systemd/">rc.local en systemd</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/11/03/las-mujeres-gordas/">las mujeres gordas</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/11/03/tls-y-ssl-en-postfix/">tls y ssl en postfix</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/10/20/compartir-la-wifi/">compartir la wifi</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/10/18/systemd-timesyncd/">systemd-timesyncd</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/10/15/repo-de-fdroid/">repo de fdroid</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/10/08/prawn-pdf-con-ruby/">prawn, pdf con ruby</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/09/17/dhcp-por-grupos/">dhcp por grupos</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/09/10/plymouth-boot-screen/">plymouth boot screen</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/09/07/git-clone-rapido/">git clone rápido</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/09/07/archlinux-dos-kernel/">archlinux con dos kernel</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/08/28/compute-remote-uptime/">compute remote uptime</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/07/24/transliteracion-del-coran/">transliteración del corán</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/07/12/date-select-en-espanol/">date_select en español</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/07/11/openvas-en-archlinux/">OpenVAS en Archlinux</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/07/05/anadir-verbo-a-un-scaffold/">añadir verbo a un scaffold</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/06/30/bootstrap-en-rails-4/">bootstrap en rails 4</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/06/21/se-dice-dios-no-ala/">se dice DIOS, no alá</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/06/01/pacman-bajo-el-microscopio/">pacman bajo el microscopio</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/05/28/cambiar-user-agent-en-squid/">cambiar user agent con squid</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/05/26/nic-bonding/">NIC bonding</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/05/23/ltsp-en-debian8-y-salud/">ltsp en debian8 y salud</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/02/21/sasl-homeclub-only/">SASL homeclub only</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/02/19/delay-pools-de-squid/">delay pools de squid</a>
      </li>

      

		<li class="post">
			<a href="/blog/2015/02/06/zentyal/">Zentyal</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/10/28/proxy-automatico/">proxy automático</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/09/24/verdial-y-el-imagis/">la pena de verdial</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/09/05/palos-de-wordpress/">palos de wordpress</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/08/25/el-server-de-correo/">el servidor de correo</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/08/15/subdesarrollo/">subdesarrollo</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/08/11/ocs-inventory/">ocs-inventory</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/07/08/select-en-bootstrap/">select en bootstrap</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/07/05/empirico/">empíricos</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/06/10/autenticador-sql-en-el-proxy/">autenticador SQL en el proxy</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/06/09/postfix-entrando-en-el-baile/">postfix entrando en el baile</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/06/09/dovecot-entra-en-el-baile/">dovecot entra en el baile</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/05/02/wordpress-para-todos/">wordpress para todos</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/04/18/lxc-en-salud/">lxc en salud</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/04/06/squid-en-infomed/">el toten de proxies</a>
      </li>

      

		<li class="post">
			<a href="/blog/2014/04/04/en-la-cumbre-del-vedado/">el &#8220;calisto&#8221; garcía</a>
      </li>

      

   </ul>

</section>





  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-68987437-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - låzaro -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'uranio-235';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-68987437-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</body>
</html>
